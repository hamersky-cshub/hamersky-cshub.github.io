---
interface Props {
  currentModule: string;
}

const { currentModule } = Astro.props;

const modules = [
  {
    id: "digital-citizenship",
    title: "Digital Citizenship",
    icon: "digital-citizenship.svg"
  },
  {
    id: "authentication",
    title: "Authentication",
    icon: "authentication.svg"
  },
  {
    id: "data-privacy",
    title: "Data Privacy",
    icon: "data-privacy.svg"
  },
  {
    id: "social-engineering",
    title: "Social Engineering",
    icon: "social-engineering.svg"
  },
  {
    id: "malware",
    title: "Malware",
    icon: "malware.svg"
  },
  {
    id: "digital-abuse",
    title: "Digital Abuse",
    icon: "digital-abuse.svg"
  }
];
---

<nav class="module-navigation">
  <h3>Learning Modules</h3>
  <ul>
    {modules.map(module => (
      <li>
        <a 
          href={`/learning-modules/${module.id}`} 
          class={currentModule === module.id ? "active" : ""}
        >
          <span class="module-icon">
            <img src={`/images/icons/${module.icon}`} alt="" width="20" height="20" />
          </span>
          <span>{module.title}</span>
        </a>
      </li>
    ))}
  </ul>
  <div class="return-link">
    <a href="/learning-modules">
      <span class="back-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
          <path d="M19 11H7.83l4.88-4.88c.39-.39.39-1.03 0-1.42-.39-.39-1.02-.39-1.41 0l-6.59 6.59c-.39.39-.39 1.02 0 1.41l6.59 6.59c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L7.83 13H19c.55 0 1-.45 1-1s-.45-1-1-1z"/>
        </svg>
      </span>
      <span>All Modules</span>
    </a>
  </div>
</nav>

<style>
  .module-navigation {
    display: flex;
    flex-direction: column;
  }

  .module-navigation h3 {
    margin-top: 0;
    margin-bottom: var(--spacing-md);
    color: var(--accent);
    font-size: 1.1rem;
  }

  .module-navigation ul {
    list-style: none;
    padding: 0;
    margin: 0 0 var(--spacing-md);
  }

  .module-navigation li {
    margin-bottom: var(--spacing-xs);
  }

  .module-navigation a {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-sm);
    border-radius: var(--border-radius-sm);
    color: var(--neutral-700);
    font-weight: 600;
    transition: all var(--transition-speed) ease;
    text-decoration: none;
  }

  .module-navigation a:hover {
    background-color: var(--neutral-200);
    color: var(--primary-dark);
  }

  .module-navigation a.active {
    background-color: var(--primary-light);
    color: var(--primary-dark);
  }

  .module-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 28px;
    height: 28px;
  }

  .return-link {
    margin-top: auto;
    padding-top: var(--spacing-md);
    border-top: 1px solid var(--neutral-300);
  }

  .return-link a {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    color: var(--neutral-600);
  }

  .back-icon {
    display: flex;
    width: 18px;
    height: 18px;
  }
</style>